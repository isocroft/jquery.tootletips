/*! 
 * Inspired by --> (http://css-trick.com/bubbles-point-tooltips-with-css3-jquery)
 */
(function(n,t){n.fn.tootletip=function(i){var s=!0,b="marginTop",h=null,e=!1,it={bottomGuage:9,resetPosition:e,showTip:e,eventsTriggerIn:"",eventsTriggerOut:"",preferedPosition:"bottom",attributes:["title"],delay:0,tipEvents:{onFinishIn:function(){},onFinishOut:function(){}}},o=n(window),k="mouseleave",d="mouseenter",c=h,l=h,r,a=n("body"),f=/*@cc_on!@*/e&&a[0].runtimeStyle&&parseInt(a[0].runtimeStyle.getAttribute(b))||!window.opera&&parseInt(a.css(b))||0,ut,v=function(n,t){var r,i=n.clone(),u="outer"+t.replace(/^./,t[0].toUpperCase());return i.css("visibility","hidden"),a.append(i),r=i[u](),i.remove(),r},u=0,y=" ",p=function(){var n=t.createElement("p").style,i="transition"in n||"WebkitTransition"in n||"MozTransition"in n||"msTransition"in n||"OTransition"in n;return{isSupported:i}}(),g=function(t,i,r,u){t&&t.stop(s,s).animate(i,{queue:e,duration:200,specialEasing:{opacity:r?"easeInQuad":"easeOutQuad",margin:r?"easeInBounce":"easeOutBounce"},step:function(t,i){n(this).css({zIndex:i.pos*5e3})},complete:function(){u(t)}})},nt={left:"arrow-e-tip",top:"arrow-s-tip",bottom:"arrow-n-tip",right:"arrow-w-tip"},w=function(t,i){var r=typeof i=="string"?i:h;return n.isPlainObject(i)?(n.each(i,function(n,i){!r&&t.is(n)&&(r=i)}),r):r},tt=function(n,t,r){var h=w(n,r);i.showTip&&(u=12);var e=n.offset(),o={width:n.outerWidth(),height:n.outerHeight()},s={width:v(t,"width"),height:v(t,"height")},c={bottom:{top:e.top+o.height+u-f,left:e.left+o.width/2-(s.width/2+i.bottomGuage)},left:{top:e.top-f-5+o.height/2-s.height/2,left:e.left-s.width-u},top:{top:e.top-o.height-u-5+f,left:e.left+o.width/2-(s.width/2+i.bottomGuage)},right:{top:e.top-f-5+o.height/2-s.height/2,left:e.left+o.width+u}};return i.showTip&&!t.contents(nt[h]).length&&t.find("i").eq(0).attr("class","arrow-tip").addClass(nt[h]),c[h]},rt=function(t,r){c=o.outerHeight(),l=o.outerWidth();var a=w(t,i.preferedPosition),e=t.offset(),y={width:t.outerWidth(),height:t.outerHeight()},p={width:v(r,"width"),height:v(r,"height")},b={left:l-(e.left-p.width-u)<=l&&o.scrollLeft()<=e.left-p.width-u,top:c-(e.top-y.height-u-5+f)<=c&&o.scrollTop()<=e.top-y.height-u-5+f,right:e.left+y.width+u+p.width<=l||o.scrollLeft()<=e.left+y.width+u+p.width,bottom:e.top+y.height+u-f+p.height<=c||o.scrollTop()<=e.top+y.height+u-f+p.height};if(typeof a=="string"){if(b[a]===s)return a;a=h}return n.each(b,function(n,t){a||!t||(a=n)}),a};return i=n.extend(it,i,s),/^([\s]*)$/.test(i.eventsTriggerIn)&&n.inArray(d,i.eventsTriggerIn.split(y))<0&&(i.eventsTriggerIn+=String(y+d)),/^([\s]*)$/.test(i.eventsTriggerOut)&&n.inArray(k,i.eventsTriggerOut.split(y))<0&&(i.eventsTriggerOut+=String(y+k)),this.each(function(t,u){var c="tooltip-active",f="tip-hidden",l="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",o="tip-shown",v="tooltip-target",a="div[data-tooltip=",h=n(u).attr("data-tooltip-target",t),y=n.grep(i.attributes,function(n){return!!h.attr(n)})[0]||"";r=n('<div class="tooltip tip-hidden" data-tooltip="'+t+'">'+h.attr(y)+'<i class="arrow-tip"><\/i><\/div>').appendTo("body"),r.css(tt(h,r,i.preferedPosition));h.removeAttr(y).on(i.eventsTriggerIn,function(){var y,h,u=n(this);if(r=n(a+u.data(v)+"]"),r.is(o))return e;r.on(l,function(t){n(t.target).removeClass(f).addClass(o);i.tipEvents.onFinishIn(n(t.target),u);n(t.target).off(t)});h=i.resetPosition?rt(u,r):w(u,i.preferedPosition),r.css(tt(u,r,h)),y=setTimeout(function(){p.isSupported?r.addClass(c):g(r,{opacity:1,margin:"5px"},s,function(){r.removeClass(f).addClass(o);i.tipEvents.onFinishIn(r,u)}),clearTimeout(y)},100)}).on(i.eventsTriggerOut,function(){var s="tooltip-out",h,u=n(this),r=n(a+u.data(v)+"]");if(r.is(f))return e;r.on(l,function(t){n(t.target).removeClass(o).addClass(f);i.tipEvents.onFinishOut(n(t.target),u);n(t.target).off(t)});p.isSupported?r.addClass(s):g(r,{opacity:0,marginTop:"-20px"},e,function(){n(ev.target).removeClass(o).addClass(f);i.tipEvents.onFinishOut(r,u)}),h=setTimeout(function(){p.isSupported&&r.removeClass(c).removeClass(s),clearTimeout(h)},300)})})}})(jQuery,this.document)
